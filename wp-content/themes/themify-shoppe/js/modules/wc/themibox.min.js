'use strict';((D,f,k)=>{let t,r,v,a=k.createElement("div"),h=k.createElement("div"),p=a.classList,w=h.classList;const u=k.createElement("div"),z=themify_vars.theme_v,x=themifyScript.wc_css_url,l={},B=g=>{27===g.keyCode&&y(g)},E=()=>new Promise((g,c)=>{let b;const e=themifyScript.wc_gal;c=null==(b=k.getElementById("themify_concate-css"))?void 0:b.nextElementSibling;const m=()=>{if(!0===l.theme_single&&!0===l.theme_lightbox&&!0===l.theme_breadcrumb){if(e)for(let d in e)if(!0!==l[d])return;g()}};!0!==
l.theme_single&&(f.body[0].classList.contains("product-single")?l.theme_single=!0:f.LoadCss(x+"single/product.css",z,c,null,()=>{l.theme_single=!0;m()}));!0!==l.theme_lightbox&&f.LoadCss(x+"lightbox.css",z,null,null,()=>{l.theme_lightbox=!0;m()});!0!==l.theme_breadcrumb&&(0===k.getElementsByClassName("woocommerce-breadcrumb").length?f.LoadCss(x+"breadcrumb.css",z,c,null,()=>{l.theme_breadcrumb=!0;m()}):(l.theme_breadcrumb=!0,m()));if(e)for(let d in e)!0!==l[d]&&f.LoadAsync(e[d].s,()=>{l[d]=!0;m()},
e[d].v,null,()=>"flexslider"===d||"zoom"===d?void 0!==D[d]:"photoswipe"===d?"undefined"!==typeof PhotoSwipe:"photoswipe-ui-default"===d?"undefined"!==typeof PhotoSwipeUI_Default:!!l[d]);m()}),y=function(g){"keyup"!==g.type&&g.preventDefault();t&&(u.addEventListener("transitionend",function(c){const b=()=>{p.add("tf_hide");h.innerHTML="";f.trigger("themiboxclosed");f.body[0].classList.remove("post-lightbox");k.removeEventListener("keyup",B,{passive:!0});t=r=v=null};f.body[0].classList.remove("post-lightbox");
if(p.contains("lightbox-message"))p.remove("lightbox-message"),a.addEventListener("transitionend",function(e){this.style.top="";b()},{passive:!0,once:!0}),a.style.top="150%";else{p.add("lightbox_closing","post-lightbox-prepare");const e=v.getBoundingClientRect();a.addEventListener("transitionend",function(m){r.style.display="";w.remove("tf_hidden");h.style.transition="";this.addEventListener("transitionend",function(){this.classList.remove("post-lightbox-prepare","lightbox_closing");b()},{passive:!0,
once:!0});this.style.top=e.top+e.height/2+"px";this.style.left=e.left+e.width/2+"px"},{passive:!0,once:!0});h.style.transition="none";w.add("tf_hidden");for(let m=h.children,d=m.length-1;-1<d;--d)r!==m[d]&&m[d].remove();a.style.width=e.width+"px";a.style.height=e.height+"px"}this.classList.add("tf_hide")},{passive:!0,once:!0}),u.classList.add("tf_opacity"))},F=()=>{const g=k.createElement("div"),c=k.createElement("h3"),b=k.createElement("a"),e=k.createElement("a");g.className="tf_textc lightbox-added";
c.textContent=themifyScript.lng.add_to;b.className="button outline";b.href="#";b.textContent=themifyScript.lng.keep_shop;b.addEventListener("click",y,{once:!0});e.href=themifyScript.checkout_url;e.className="button checkout";e.textContent=themifyScript.lng.checkout;g.appendChild(c);g.appendChild(b);g.appendChild(e);return g},G=function(g){g.preventDefault();if(t)return!1;t=this;f.initWC(!0);var c;v=null==(c=t.closest(".product,.slide-inner-wrap,.type-product"))?void 0:c.querySelector(".product-image,.post-image");
if(!v)return!1;p.add("woocommerce","woo_qty_btn","post-lightbox-prepare","tf_hide");g=t.href;c=v.getElementsByTagName("img")[0];themify_vars.wc_js||(g=f.UpdateQueryString("load_wc","1",g));c=c?c.src:t.dataset.image;c||(c=themifyScript.placeholder);r=new Image;r.src=c;const b=v.getBoundingClientRect();a.style.width=b.width+"px";a.style.height=b.height+"px";a.style.top=b.top+b.height/2+"px";a.style.left=b.left+b.width/2+"px";c=new Headers({Accept:"application/json","X-Requested-With":"XMLHttpRequest"});
const e=fetch(f.UpdateQueryString("post_in_lightbox","1",g),{headers:c}).then(m=>m.text());Promise.all([r.decode(),E()]).then(()=>{h.appendChild(r);u.classList.remove("tf_hide");p.remove("tf_hide");setTimeout(()=>{a.addEventListener("transitionend",function(m){f.body[0].classList.add("post-lightbox");u.classList.remove("tf_opacity");w.add("post-lightbox-flip-infinite");e.then(d=>{f.on("single_slider_loaded",()=>{setTimeout(()=>{h.addEventListener("animationiteration",function(){this.classList.remove("post-lightbox-flip-infinite");
a.addEventListener("transitionend",function(A){a=n;h=q;w=h.classList;p=a.classList;a.style.top=n.style.left="";p.remove("tf_opacity");a.previousSibling.remove();a.style.transition="none";a.style.width=a.style.height=h.style.transition="";if("function"===typeof ThemifyShoppeAjaxCart){let C;null==(C=h.querySelector("form.cart"))||C.addEventListener("submit",ThemifyShoppeAjaxCart)}n=q=null;w.remove("tf_opacity");k.addEventListener("keyup",B,{passive:!0});setTimeout(()=>{a.style.transition="";a.lastElementChild.addEventListener("click",
y,{once:!0})},10)},{once:!0,passive:!0});a.style.transition="";h.style.transition="none";w.add("tf_opacity");p.remove("post-lightbox-prepare");a.style.width=n.clientWidth+"px";a.style.height=n.clientHeight+"px"},{passive:!0,once:!0})},15)},!0);let n=a.cloneNode(!0),q=n.firstChild;q.style.transition=n.style.transition="none";q.classList.remove("post-lightbox-flip-infinite");n.classList.remove("post-lightbox-prepare");n.classList.add("tf_opacity");n.style.top=n.style.left="-1000vh";n.style.width=n.style.height=
"";r=q.getElementsByTagName("img")[0];r.style.display="none";q.insertAdjacentHTML("beforeend",d);a.after(n);f.fontAwesome(q);d=k.getElementsByClassName("pswp")[0];d||(d=q.getElementsByClassName("pswp")[0])&&f.body[0].prepend(d);if(!0!==f.cssLazy.theme_social_share&&q.getElementsByClassName("share-wrap")[0]){f.cssLazy.theme_social_share=!0;let A;f.LoadCss(x+"social-share.css",themify_vars.theme_v,null==(A=k.getElementById("themify_concate-css"))?void 0:A.nextElementSibling)}f.trigger("themiboxloaded",
q).initWC(!0)})},{once:!0,passive:!0});a.style.height="";a.style.width=(180<b.width?180:b.width)+"px";a.style.top=a.style.left=""},15)})};f.on("themify_theme_themibox_run",g=>{const c=k.createDocumentFragment(),b=k.createElement("a");a.id="post-lightbox-wrap";a.className="tf_scrollbar tf_box tf_hide";u.id="pattern";u.className="tf_opacity tf_hide tf_w tf_h";h.id="post-lightbox-container";h.className="tf_box tf_w tf_h tf_overflow";b.className="close-lightbox tf_close";b.href="#";u.addEventListener("click",
y);a.appendChild(h);a.appendChild(b);c.appendChild(a);c.appendChild(u);f.body.on("click",".themify-lightbox",G).on("added_to_cart",()=>{t&&(p.add("lightbox-message"),a.addEventListener("transitionend",function(e){this.style.padding="";h.appendChild(F());this.addEventListener("transitionend",function(m){this.style["max-height"]=""},{passive:!0,once:!0});this.style["max-height"]="100%"},{passive:!0,once:!0}),h.innerHTML="",a.style.padding=a.style["max-height"]="0px")})[0].appendChild(c);g.click()},
!0)})(jQuery,Themify,document);
