'use strict';((l,f,r)=>{const p=r.cssUrl+"gallery_styles/",m={};let k=document.getElementById("tb_inline_styles");f.on("builder_load_module_partial",(a,b,c)=>{if(!0!==c||a[0].classList.contains("module-gallery")){a=f.selectWithParent("module-gallery",a);b=[];for(c=a.length-1;-1<c;--c)if(!f.cssLazy.tb_gallery_showcase&&a[c].classList.contains("layout-showcase"))f.cssLazy.tb_gallery_showcase=!0,f.LoadCss(p+"showcase.css");else if(!f.cssLazy.tb_gallery_lightboxed&&a[c].classList.contains("layout-lightboxed"))f.cssLazy.tb_gallery_lightboxed=
!0,f.LoadCss(p+"lightboxed.css");else if(a[c].classList.contains("layout-grid")){f.cssLazy.tb_gallery_grid||(f.cssLazy.tb_gallery_grid=!0,f.LoadCss(p+"grid.css"));let d=a[c].getElementsByClassName("gallery-masonry")[0];if(d&&!d.classList.contains("gallery-columns-1")){let h="";var e=window.getComputedStyle(d);let g=e.getPropertyValue("--galN");(e=parseFloat(e.getPropertyValue("--galG")))||(e=1.5);if(!g){let q=d.classList;for(let n=q.length-1;-1<n;--n)if(-1!==q[n].indexOf("gallery-columns-")){g=q[n].replace("gallery-columns-",
"");break}}g&&(g=parseInt(g),m.block||(m.block=!0,h=".gallery-masonry.masonry-done{display:block}.gallery-masonry.masonry-done>.gutter-sizer{width:"+e+"%}"),m[g]||(m[g]=!0,e=parseFloat((100-(g-1)*e)/g).toFixed(2).replace(".00",""),h+=".gallery-columns-"+g+".masonry-done .gallery-item{width:"+e+"%}"),""!==h&&(null===k?(k=document.createElement("style"),k.textContent=h,document.head.prepend(k)):k.innerText+=h),b.push(d))}}0<b.length&&f.isoTop(b,{itemSelector:".gallery-item",columnWidth:!1})}}).body.on("click",
".module-gallery .pagenav a",function(a){a.preventDefault();const b=l(this).closest(".module-gallery"),c=b[0].classList;l.ajax({url:this,beforeSend(){c.add("builder_gallery_load")},complete(){c.remove("builder_gallery_load")},success(e){if(e){const d=b[0].className.match(/tb_?.[^\s]+/);null!==d&&"undefined"!==typeof d[0]?b.html(l(e).find("."+d[0]).first().html()):b.html(l(e).find(".module-gallery").first().html());c.contains("masonry-done")&&(c.remove("masonry-done"),c.add("masonry"));r.gallery(b)}}})}).on("click",
".layout-showcase.module-gallery a",function(a){a.preventDefault();a.stopPropagation();const b=this.closest(".gallery").getElementsByClassName("gallery-showcase-image")[0];a=b.getElementsByClassName("gallery-showcase-title")[0];const c=b.getElementsByClassName("gallery-showcase-title-text")[0],e=b.getElementsByClassName("gallery-showcase-caption")[0],d=new Image;a&&(a.innerText.trim()?a.style.opacity=a.style.visibility="":(a.style.opacity=0,a.style.visibility="hidden"));b.classList.add("tf_lazy");
d.decoding="async";d.alt=this.getElementsByTagName("img")[0].alt;c&&(c.innerHTML=this.title);e&&(e.innerHTML=this.getAttribute("data-caption"));d.src=this.getAttribute("data-image");d.decode().finally(()=>{const h=b.getElementsByTagName("img")[0];h.parentNode.replaceChild(d,h);b.classList.remove("tf_lazy")})})})(jQuery,Themify,ThemifyBuilderModuleJs);
