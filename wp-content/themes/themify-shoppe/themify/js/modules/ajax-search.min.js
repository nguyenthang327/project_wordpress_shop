'use strict';((m,l)=>{m.on("themify_overlay_search_init",v=>{let h,d=v.closest(".tf_search_form");if(!d){d=l.getElementById("searchform");if(!d)return;d=d.closest(".tf_search_form")}const n=d.getElementsByTagName("form")[0];var q=!!n.closest(".tf_search_overlay");const k=n.querySelector('input[name="s"]'),r=(new URL(n.getAttribute("action"))).searchParams,w=r.get("term"),x=r.get("post_type"),t={},f=l.createElement("div"),y=l.createElement("div"),B=new Headers({Accept:"application/json","X-Requested-With":"XMLHttpRequest"}),
p=new FormData;f.className="tf_search_result tf_w tf_box tf_hide";y.className="tf_loader tf_hide";if(q){d=l.createElement("div");q=l.createElement("div");const b=l.createElement("a"),a=l.createElement("span"),e=function(){d.classList.toggle("search-active",0<k.value.length)};v.addEventListener("click",function(c){c.preventDefault();e();d.classList.add("tf_fd_in");k.focus();m.body[0].style.overflowY="hidden";m.body[0].classList.add("searchform-slidedown")});b.addEventListener("click",function(c){c.preventDefault();
e();h&&h.abort();h=null;d.classList.remove("tf_fd_in");m.body[0].style.overflowY="";m.body[0].classList.remove("searchform-slidedown")});d.className="tf_search_lightbox tf_hide tf_w tf_box tf_opacity tf_h tf_scrollbar";q.className="tf_searchform_inner tf_opacity";b.className="tf_close_search tf_close";a.className="screen-reader-text";b.appendChild(a);d.appendChild(q);d.appendChild(b);n.after(d);q.appendChild(n)}else f.className+=" tf_scrollbar",f.setAttribute("tabindex","-1");k.after(f);k.before(y);
const z=b=>{let a=b.getAttribute("href").replace("#","");"all"===a&&(a="item");b=b.closest("li");const e=f.getElementsByClassName("tf_search_item");for(let c=e.length-1;-1<c;--c)e[c].classList.remove("tf_fd_in"),e[c].classList.add("tf_fd_out");for(let c=b.parentNode.children,g=c.length-1;-1<g;--g)"LI"===c[g].tagName&&c[g].classList.remove("active");b.classList.add("active");setTimeout(()=>{var c=f.getElementsByClassName("tf_view_button"),g=f.querySelector("#tf_result_link_"+a);for(let u=c.length-
1;-1<u;--u)c[u].classList.add("tf_hide");g&&g.classList.remove("tf_hide");for(c=e.length-1;-1<c;--c)g=e[c].classList,g.contains("tf_search_"+a)?(g.remove("tf_hide","tf_fd_out"),g.add("tf_fd_in")):g.add("tf_hide")},401)},A=()=>{var b;const a=null==(b=f.querySelector(".tf_search_tab .active a"))?void 0:b.getAttribute("href");a&&(b=f.querySelector('.tf_search_tab a[href="'+a+'"]'))&&z(b)};f.addEventListener("click",function(b){const a=b.target;"A"===a.tagName&&a.closest(".tf_search_tab")&&(b.preventDefault(),
z(a))});p.append("action","themify_search_autocomplete");p.append("post_type",x?x:"");w&&(p.append("term",w),p.append("tax",r.get("tax")));k.autocomplete="off";k.addEventListener("keyup",function(b){setTimeout(()=>{const a=this.value.trim();h&&h.abort();a?(d.classList.add("search-active"),t[a]?(f.innerHTML=t[a],A()):(d.classList.add("tf_search_loading"),p.set("s",a),h=new AbortController,fetch(themify_vars.ajax_url,{signal:h.signal,method:"POST",headers:B,body:p}).then(e=>e.text()).then(e=>{e&&(f.innerHTML=
e,A(),t[a]=e)}).catch(e=>{"AbortError"!==e.name&&console.error("Uh oh, an error!",e)}).finally(()=>{d.classList.remove("tf_search_loading");h=null}))):(d.classList.remove("search-active"),f.innerHTML="")},100)},{passive:!0});n.classList.remove("tf_hide");k.value.trim()&&m.triggerEvent(k,"keyup")})})(Themify,document);
